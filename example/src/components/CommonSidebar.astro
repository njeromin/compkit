---
import SidebarItem from "./SidebarItem.astro";
import "fs";

// fs.readdirSync("./src/pages/components/").forEach((file) => {});
---

<aside id="sidebar">
	<h3>Paths</h3>
	<SidebarItem name="Home" path="/" />

	<h3>Components</h3>

	<SidebarItem name="Input" path="/components/input" />
	<SidebarItem name="Button" path="/components/button" />
	<SidebarItem name="Card" path="/components/card" />
	<SidebarItem name="Dialog" path="/components/dialog" />
	<SidebarItem name="Select" path="/components/select" />
	<SidebarItem name="Switch" path="/components/switch" />
</aside>

<style lang="scss">
	@use "$/style/devices";

	#sidebar {
		background: var(--bg-ev1);
		width: 15%;
		height: calc(100cqh - var(--header-height) - 1em);
		top: calc(var(--header-height) + 0.5em);
		padding: 0.5em;
		margin: 0.5em;
		border-radius: 8px;
		position: sticky;
		left: 0;

		& > h3 {
			font-size: 1.1rem;
			margin-bottom: 0.25em;
		}

		@include devices.is-phone {
			position: fixed;
			z-index: 200;
			width: 100%;
			height: 100%;
			padding: 0.25em;
			border-right: none;
			display: none;

			&.mobile-visible {
				display: block;
			}

			& > h3 {
				margin-left: 0.25em;
			}
		}
	}
</style>
